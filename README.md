# Отчеты по курсам Open edX

Этот проект предназначен для сбора и анализа отчетов по курсам платформы Open edX.

## Описание

Приложение собирает информацию о курсах с платформы Open edX и анализирует локальные отчеты в формате CSV, предоставляя удобный интерфейс для просмотра и скачивания отчетов.

## Функциональность

- Получение списка курсов с платформы Open edX через API
- Сканирование локальной директории с отчетами
- Отображение информации о последних отчетах по каждому курсу
- Фильтрация отчетов по курсам, типу отчета и давности
- Скачивание отчетов

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

## Использование

Приложение доступно в двух вариантах интерфейса:

### Streamlit (классический интерфейс)

```
streamlit run reports.py
```

### NiceGUI (современный интерфейс)

```
python nicegui_reports.py
```

**Примечание:** Интерфейс NiceGUI может иметь проблемы с веб-сокетами в некоторых окружениях. 
Если интерфейс не загружается, рекомендуется использовать Streamlit версию.

## Структура проекта

- `course_reports.py` - бизнес-логика приложения
- `reports.py` - интерфейс Streamlit
- `nicegui_reports.py` - интерфейс NiceGUI
- `test_reports.py` - юнит-тесты для функций получения курсов

## Тестирование

Для запуска тестов выполните:
```
python -m unittest test_reports.py
```

Тесты проверяют корректность работы всех функций приложения при различных сценариях:
- Получение курсов с одной страницы
- Получение курсов с нескольких страниц
- Обработка HTTP ошибок
- Обработка ошибок парсинга JSON
- Обработка таймаутов
- Извлечение короткого ID курса
- Извлечение запуска курса
- Парсинг имен файлов отчетов
- Сканирование директории с отчетами

## Переменные окружения

- `TUTOR_ROOT` - корневая директория Tutor, используется для определения пути к отчетам

## Лицензия

MIT